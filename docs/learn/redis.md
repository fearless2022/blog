## 主从复制模式

### 基本原理

* 主从复制模式中包含一个主数据库实例（master）与一个或多个从数据库实例（slave）
* 客户端可对主数据库进行读写操作，对从数据库进行读操作，主数据库写入的数据会实时自动同步给从数据库

### 优点

* master能自动将数据同步到slave，可以进行读写分离，分担master的读压力
* master、slave之间的同步是以非阻塞的方式进行的，同步期间，客户端仍然可以提交查询或更新请求

## Sentinel（哨兵）模式

### 基本原理

* 哨兵模式基于主从复制模式，只是引入了哨兵来监控与自动处理故障

### 优点

* 哨兵模式基于主从复制模式，所以主从复制模式有的优点，哨兵模式也有
* 哨兵模式下，master挂掉可以自动进行切换，系统可用性更高

## Cluster模式

### 基本原理

* Cluster模式实现了Redis的分布式存储，即每台节点存储不同的内容，来解决在线扩容的问题

### 优点

* 无中心架构，数据按照slot分布在多个节点
* 集群中的每个节点都是平等的关系，每个节点都保存各自的数据和整个集群的状态。每个节点都和其他所有节点连接，而且这些连接保持活跃，这样就保证了我们只需要连接集群中的任意一个节点，就可以获取到其他节点的数据
* 可线性扩展到1000多个节点，节点可动态添加或删除
* 能够实现自动故障转移，节点之间通过gossip协议交换状态信息，用投票机制完成slave到master的角色转换

## redis6.0多线程

* Redis 的多线程部分只是用来处理网络数据的读写和协议解析，执行命令仍然是单线程

## 启动redis

* ```bash
  # 进入目录
  cd src/
  # 启动
  ./redis-server ../redis.conf
  ```